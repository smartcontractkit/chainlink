type = "offchainreporting2"
schemaVersion = 1
name = "Sample Mercury Jobspec"
externalJobID = ""
forwardingAllowed = false
maxTaskDuration = "1s"
contractID = "0x535051166466d159da8742167c9ca1efe9e82613"
ocrKeyBundleID = ""
p2pv2Bootstrappers = [
  ""
]
relay = "evm"
pluginType = "mercury"
transmitterID = "<OCR2 CSA pub key goes here>"
observationSource = """
    // Block Num + Hash
    block           [type=ethgetblock];
    bn_lookup       [type=lookup key="number"];
    bh_lookup       [type=lookup key="hash"];

    b1 -> bn_lookup;
    b1 -> bh_lookup;
    
    // Benchmark Price
    price1          [type=bridge name="bridge-cfbenchmarks-test" timeout="50ms" requestData="{\\"data\\":{\\"from\\":\\"ETH\\",\\"to\\":\\"USD\\"}}"];
    price1_parse    [type=jsonparse path="result"];
    price1_multiply [type=multiply times=100000000];

    price1 -> price1_parse -> price1_multiply;

    // Bid
    bid          [type=bridge name="bridge-cfbenchmarks-test" timeout="50ms" requestData="{\\"data\\":{\\"from\\":\\"ETH\\",\\"to\\":\\"USD\\"}}"];
    bid_parse    [type=jsonparse path="result"];
    bid_multiply [type=multiply times=100000000];

    bid -> bid_parse -> bid_multiply;

    // Ask
    ask          [type=bridge name="bridge-cfbenchmarks-test" timeout="50ms" requestData="{\\"data\\":{\\"from\\":\\"ETH\\",\\"to\\":\\"USD\\"}}"];
    ask_parse    [type=jsonparse path="result"];
    ask_multiply [type=multiply times=100000000];

    ask -> ask_parse -> ask_multiply;
"""

[pluginConfig]
feedID = "0x4554482d5553442d417262697472756d2d546573746e65740000000000000000"
url = "https://mercury-server.main.prod.cldev.sh/reports"

[relayConfig]
chainID = 421613
fromBlock = 5_041_100
