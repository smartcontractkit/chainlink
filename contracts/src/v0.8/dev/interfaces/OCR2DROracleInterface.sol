// SPDX-License-Identifier: MIT
pragma solidity ^0.8.6;

/**
 * @title OCR2DR oracle interface.
 */
interface OCR2DROracleInterface {
  /**
   * @notice Sends a request (encoded as data) using the provided subscriptionId
   * @param subscriptionId A unique subscription ID allocated by billing system,
   * a client can make requests from different contracts referencing the same subscription
   * @param data Encoded OCR2DR request data, use OCR2DRClient API to encode a request
   * @return requestId A unique request identifier (unique per oracle)
   */
  function sendRequest(uint256 subscriptionId, bytes calldata data) external returns (bytes32);

  /**
   * @notice Fulfills a request (called by DON)
   * @dev Either response or error parameter will be set, but never both
   * @param requestId The request ID returned by sendRequest()
   * @param response An aggregated response generated by user code
   * @param err An aggregated error returned from user code or execution pipeline
   */
  function fulfillRequest(
    bytes32 requestId,
    bytes calldata response,
    bytes calldata err
  ) external;
}
