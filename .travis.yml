sudo: required

language: go

env:
  global:
    - DEP_VERSION="0.4.1"

services:
  - docker

matrix:
  include:
    - language: go
      go: "1.10"
      env: COMMAND=./internal/ci/go_test
    - language: go
      go: "1.10"
      env: COMMAND=./internal/ci/truffle_test
    - language: go
      go: "1.10"
      env: COMMAND=./internal/ci/ethereum_test
    - language: go
      go: "1.10"
      env: COMMAND=./internal/ci/gui_test

before_install:
  - docker pull smartcontract/builder:1.0.4

install: ./internal/ci/install_dependencies

script:
  - bash $COMMAND
